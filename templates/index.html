<!-- index.html -->
{% extends 'base.html' %}
{% block content %}

<div class="flex flex-col items-center justify-center h-full text-center">
    {% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div class="fixed top-6 left-1/2 transform -translate-x-1/2 z-50">
      {% for category, message in messages %}
        <div class="bg-red-500 text-white px-6 py-3 rounded-xl shadow-xl animate-fadeInOut">
          {{ message }}
        </div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}

    <h1 class="text-5xl font-bold mb-8">Welcome to RealTimeCollab PRO</h1>
    <p class="text-lg mb-10 text-white/80">Collaborate in Real-Time with your Team</p>

    <div class="flex gap-8">
        <!-- Create Room Button -->
        <button onclick="openCreateModal()"
            class="bg-gradient-to-r from-green-400 to-emerald-500 px-10 py-4 rounded-2xl text-xl font-semibold hover:scale-105 shadow-2xl">
            + Create Room
        </button>

        <!-- Join Room Button -->
        <button onclick="openJoinModal()"
            class="bg-gradient-to-r from-indigo-500 to-purple-600 px-10 py-4 rounded-2xl text-xl font-semibold hover:scale-105 shadow-2xl">
            ðŸ”— Join Room
        </button>
    </div>
</div>

<!-- Create Room Modal -->
<div id="createModal" class="fixed inset-0 hidden bg-black/60 flex justify-center items-center">
    <div class="bg-white text-black p-8 rounded-2xl w-96 shadow-2xl">
        <h2 class="text-2xl font-bold mb-4">Create a Room</h2>
        <form action="/create_room" method="POST" class="space-y-4">
            <input type="text" name="name" placeholder="Your Name" required
                class="w-full px-4 py-2 rounded-lg bg-gray-100 focus:outline-none">
            <input type="email" name="email" placeholder="Your Email" required
                class="w-full px-4 py-2 rounded-lg bg-gray-100 focus:outline-none">
            <input type="text" name="room_name" placeholder="Room Name" required
                class="w-full px-4 py-2 rounded-lg bg-gray-100 focus:outline-none">
            <div class="flex justify-end gap-4">
                <button type="button" onclick="closeCreateModal()"
                    class="px-4 py-2 bg-gray-300 rounded-lg hover:scale-105">Cancel</button>
                <button type="submit"
                    class="px-6 py-2 bg-green-500 text-white rounded-lg hover:scale-105">Create</button>
            </div>
        </form>
    </div>
</div>

<!-- Join Room Modal -->
<div id="joinModal" class="fixed inset-0 hidden bg-black/60 flex justify-center items-center">
    <div class="bg-white text-black p-8 rounded-2xl w-96 shadow-2xl">
        <h2 class="text-2xl font-bold mb-4">Join a Room</h2>
        <form action="/join_room" method="POST" class="space-y-4">
            <input type="text" name="room_id" placeholder="Enter Room ID" required
                class="w-full px-4 py-2 rounded-lg bg-gray-100 focus:outline-none">
            <div class="flex justify-end gap-4">
                <button type="button" onclick="closeJoinModal()"
                    class="px-4 py-2 bg-gray-300 rounded-lg hover:scale-105">Cancel</button>
                <button type="submit"
                    class="px-6 py-2 bg-indigo-500 text-white rounded-lg hover:scale-105">Join</button>
            </div>
        </form>
    </div>
</div>

<script>
    function openCreateModal() {
        document.getElementById('createModal').classList.remove('hidden');
    }
    function closeCreateModal() {
        document.getElementById('createModal').classList.add('hidden');
    }
    function openJoinModal() {
        document.getElementById('joinModal').classList.remove('hidden');
    }
    function closeJoinModal() {
        document.getElementById('joinModal').classList.add('hidden');
    }
</script>

{% endblock %}
